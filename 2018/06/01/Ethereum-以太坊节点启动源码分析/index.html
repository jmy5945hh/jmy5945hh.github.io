<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.0//EN" "http://www.wapforum.org/DTD/xhtml-mobile10.dtd">
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
  
  
  <title>  Ethereum &#x4EE5;&#x592A;&#x574A;&#x8282;&#x70B9;&#x542F;&#x52A8;&#x6E90;&#x7801;&#x5206;&#x6790; |   Jmy5945hh-Fintech&#x6280;&#x672F;&#x535A;&#x5BA2; </title>

 
  
    <link rel="icon" href="/images/favicon.png">
  


  <link rel="stylesheet" href="/style.min.css"> 
</head>  
  <body>   
    <header class="header">
	
  <nav class="header-nav">        
   
    <span class="iconfont icon-menu mobile-toggle"></span>   	

    <a class="header-logo" href="/"><span>Jmy</span></a>  

    <div class="header-menu">          
              
            

              <a class="header-menu-link" id="header-menu-home" href="/">&#x9996;&#x9875;</a>     

            
            
            

              <a class="header-menu-link" id="header-menu-archives" href="/archives">&#x5F52;&#x6863;</a>     

            
            
            

              <a class="header-menu-link" id="header-menu-tags" href="/tags">&#x6807;&#x7B7E;</a>     

            
            
            

              <a class="header-menu-link" id="header-menu-about" href="/about">&#x5173;&#x4E8E;</a>     

            
            
            

              <a class="iconfont icon-menu-search header-menu-link" id="header-menu-search"></a>

            
                
    </div>  
    
  </nav>
</header>   

    <div class="container">       
        
        

          <section class="main">  

        

        <article class="post">

	  
	<div class="post-header slideDownMin">

	<p class="post-title">	
		Ethereum &#x4EE5;&#x592A;&#x574A;&#x8282;&#x70B9;&#x542F;&#x52A8;&#x6E90;&#x7801;&#x5206;&#x6790;
	</p>
			

	<div class="meta-info">	
	<span>
		6&#x6708; 01, 2018
	</span>

	
	
		<i class="iconfont icon-words"></i>
		<span>
			7276
		</span>
	
</div>

</div> 

	 

	  <div class="post-content slideDownMin">

		

	  	<h2 id="0-&#x524D;&#x8A00;"><a href="#0-&#x524D;&#x8A00;" class="headerlink" title="0 &#x524D;&#x8A00;"></a>0 &#x524D;&#x8A00;</h2><ul>
<li>&#x57FA;&#x4E8E; Ethereum Coffice (v.1.8.8) &#x5206;&#x6790;</li>
<li>&#x9700;&#x8981;&#x533A;&#x5757;&#x94FE;&#x57FA;&#x7840;&#x77E5;&#x8BC6;</li>
<li>&#x6709; C++/JAVA &#x57FA;&#x7840;&#x5C31;&#x80FD;&#x7406;&#x89E3;&#x6587;&#x4E2D; go &#x4EE3;&#x7801; </li>
</ul>
<h2 id="1-&#x5B9A;&#x4E49;"><a href="#1-&#x5B9A;&#x4E49;" class="headerlink" title="1 &#x5B9A;&#x4E49;"></a>1 &#x5B9A;&#x4E49;</h2><h3 id="1-1-&#x8282;&#x70B9;"><a href="#1-1-&#x8282;&#x70B9;" class="headerlink" title="1.1 &#x8282;&#x70B9;"></a>1.1 &#x8282;&#x70B9;</h3><p>&#x5728; Ethereum &#x533A;&#x5757;&#x94FE;&#x7F51;&#x7EDC;&#x4E2D;&#xFF0C;<strong>&#x8282;&#x70B9;</strong>&#x88AB;&#x5B9A;&#x4E49;&#x4E3A;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x6CE8;&#x518C;&#x591A;&#x79CD;&#x670D;&#x52A1;&#x7684;&#x5BB9;&#x5668;&#x3002;&#x670D;&#x52A1;&#x662F;&#x4E00;&#x5957;&#x72EC;&#x7ACB;&#x7684;&#x534F;&#x8BAE;&#xFF0C;&#x53EF;&#x4EE5;&#x57FA;&#x4E8E;P2P&#x7F51;&#x7EDC;&#x548C;PRC&#x901A;&#x4FE1;&#x6765;&#x63D0;&#x4F9B;&#x5177;&#x4F53;&#x7684;&#x670D;&#x52A1;&#x5185;&#x5BB9;&#x3002;&#x8282;&#x70B9;&#x5BF9;&#x8C61;&#x7684;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<blockquote>
<p>Node is a container on which services can be registered.</p>
</blockquote>
<a id="more"></a>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">file:node/node.go</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">type</span> Node <span class="keyword">struct</span> {</span><br><span class="line">    eventmux *event.TypeMux <span class="comment">// &#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x7684;&#x4E8B;&#x4EF6;&#x9501;</span></span><br><span class="line">    config   *Config</span><br><span class="line">    accman   *accounts.Manager</span><br><span class="line"></span><br><span class="line">    ephemeralKeystore <span class="keyword">string</span></span><br><span class="line">    instanceDirLock   flock.Releaser</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// --- P2P &#x76F8;&#x5173;&#x5BF9;&#x8C61; -- Start</span></span><br><span class="line">    serverConfig p2p.Config     </span><br><span class="line">    server       *p2p.Server</span><br><span class="line">    <span class="comment">// --- P2P &#x76F8;&#x5173;&#x5BF9;&#x8C61; -- End</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// --- &#x670D;&#x52A1;&#x76F8;&#x5173;&#x5BF9;&#x8C61; -- Start</span></span><br><span class="line">    serviceFuncs []ServiceConstructor      </span><br><span class="line">    services     <span class="keyword">map</span>[reflect.Type]Service</span><br><span class="line">    <span class="comment">// --- &#x670D;&#x52A1;&#x76F8;&#x5173;&#x5BF9;&#x8C61; -- End</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// --- RPC &#x76F8;&#x5173;&#x5BF9;&#x8C61; -- Start</span></span><br><span class="line">    rpcAPIs       []rpc.API   <span class="comment">// RPC &#x63D0;&#x4F9B;&#x7684; API</span></span><br><span class="line">    inprocHandler *rpc.Server <span class="comment">// RPC API &#x6D88;&#x606F;&#x5904;&#x7406;</span></span><br><span class="line"></span><br><span class="line">    ipcEndpoint <span class="keyword">string</span>       <span class="comment">// IPC &#x7AEF;&#x70B9;</span></span><br><span class="line">    ipcListener net.Listener <span class="comment">// IPC API &#x670D;&#x52A1;&#x76D1;&#x542C;</span></span><br><span class="line">    ipcHandler  *rpc.Server  <span class="comment">// IPC API &#x6D88;&#x606F;&#x5904;&#x7406;</span></span><br><span class="line"></span><br><span class="line">    httpEndpoint  <span class="keyword">string</span>       <span class="comment">// HTTP &#x7AEF;&#x70B9;</span></span><br><span class="line">    httpWhitelist []<span class="keyword">string</span>     <span class="comment">// HTTP &#x767D;&#x540D;&#x5355;</span></span><br><span class="line">    httpListener  net.Listener <span class="comment">// HTTP API &#x670D;&#x52A1;&#x76D1;&#x542C;</span></span><br><span class="line">    httpHandler   *rpc.Server  <span class="comment">// HTTP API &#x6D88;&#x606F;&#x5904;&#x7406;</span></span><br><span class="line"></span><br><span class="line">    wsEndpoint <span class="keyword">string</span>       <span class="comment">// Websocket &#x7AEF;&#x70B9;</span></span><br><span class="line">    wsListener net.Listener <span class="comment">// Websocket API &#x670D;&#x52A1;&#x76D1;&#x542C;</span></span><br><span class="line">    wsHandler  *rpc.Server  <span class="comment">// Websocket API &#x6D88;&#x606F;&#x5904;&#x7406;</span></span><br><span class="line">    <span class="comment">// --- RPC &#x76F8;&#x5173;&#x5BF9;&#x8C61; -- End</span></span><br><span class="line"></span><br><span class="line">    stop <span class="keyword">chan</span> <span class="keyword">struct</span>{} <span class="comment">// &#x7B49;&#x5F85;&#x5173;&#x95ED;&#x901A;&#x77E5;&#x7684; &#x901A;&#x9053;</span></span><br><span class="line">    lock sync.RWMutex</span><br><span class="line"></span><br><span class="line">    log log.Logger  <span class="comment">// &#x65E5;&#x5FD7;</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="1-2-&#x9ED8;&#x8BA4;&#x503C;"><a href="#1-2-&#x9ED8;&#x8BA4;&#x503C;" class="headerlink" title="1.2 &#x9ED8;&#x8BA4;&#x503C;"></a>1.2 &#x9ED8;&#x8BA4;&#x503C;</h3><p><code>node/defaults.go</code> &#x6E90;&#x7801;&#x4E2D;&#x5B9A;&#x4E49;&#x4E86;&#x5173;&#x4E8E;&#x8282;&#x70B9;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x5305;&#x62EC;&#xFF1A;</p>
<ul>
<li>HTTP RPC &#x7AEF;&#x53E3;&#x9ED8;&#x8BA4; 8545</li>
<li>WebSocket RPC &#x7AEF;&#x53E3;&#x9ED8;&#x8BA4; 8546</li>
<li>P2P &#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x9ED8;&#x8BA4; 30303</li>
<li>&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x5939;<ul>
<li>Apple &#x7CFB;&#x7EDF; <code>home\Library\Ethereum</code></li>
<li>Windows &#x7CFB;&#x7EDF; <code>home\AppData\Roaming\Ethereum</code></li>
<li>&#x5176;&#x4ED6;&#x7CFB;&#x7EDF; <code>home\.ethereum</code></li>
</ul>
</li>
</ul>
<p>&#x8BE6;&#x89C1;&#x6E90;&#x7801;<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> node</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ...</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	DefaultHTTPHost = <span class="string">&quot;localhost&quot;</span></span><br><span class="line">	DefaultHTTPPort = <span class="number">8545</span> </span><br><span class="line">	DefaultWSHost   = <span class="string">&quot;localhost&quot;</span></span><br><span class="line">	DefaultWSPort   = <span class="number">8546</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> DefaultConfig = Config{</span><br><span class="line">	DataDir:          DefaultDataDir(),</span><br><span class="line">	HTTPPort:         DefaultHTTPPort,</span><br><span class="line">	HTTPModules:      []<span class="keyword">string</span>{<span class="string">&quot;net&quot;</span>, <span class="string">&quot;web3&quot;</span>},</span><br><span class="line">	HTTPVirtualHosts: []<span class="keyword">string</span>{<span class="string">&quot;localhost&quot;</span>},</span><br><span class="line">	WSPort:           DefaultWSPort,</span><br><span class="line">	WSModules:        []<span class="keyword">string</span>{<span class="string">&quot;net&quot;</span>, <span class="string">&quot;web3&quot;</span>},</span><br><span class="line">	P2P: p2p.Config{</span><br><span class="line">		ListenAddr: <span class="string">&quot;:30303&quot;</span>,</span><br><span class="line">		MaxPeers:   <span class="number">25</span>,</span><br><span class="line">		NAT:        nat.Any(),</span><br><span class="line">	},</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">DefaultDataDir</span><span class="params">()</span> <span class="title">string</span></span> {</span><br><span class="line">	home := homeDir()</span><br><span class="line">	<span class="keyword">if</span> home != <span class="string">&quot;&quot;</span> {</span><br><span class="line">		<span class="keyword">if</span> runtime.GOOS == <span class="string">&quot;darwin&quot;</span> {</span><br><span class="line">			<span class="keyword">return</span> filepath.Join(home, <span class="string">&quot;Library&quot;</span>, <span class="string">&quot;Ethereum&quot;</span>)</span><br><span class="line">		} <span class="keyword">else</span> <span class="keyword">if</span> runtime.GOOS == <span class="string">&quot;windows&quot;</span> {</span><br><span class="line">			<span class="keyword">return</span> filepath.Join(home, <span class="string">&quot;AppData&quot;</span>, <span class="string">&quot;Roaming&quot;</span>, <span class="string">&quot;Ethereum&quot;</span>)</span><br><span class="line">		} <span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">return</span> filepath.Join(home, <span class="string">&quot;.ethereum&quot;</span>)</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">homeDir</span><span class="params">()</span> <span class="title">string</span></span> {</span><br><span class="line">	...</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<h2 id="2-&#x542F;&#x52A8;"><a href="#2-&#x542F;&#x52A8;" class="headerlink" title="2 &#x542F;&#x52A8;"></a>2 &#x542F;&#x52A8;</h2><p><code>node/node.go</code> &#x6E90;&#x7801;&#x4E2D;&#x7684; <code>Start()</code> &#x51FD;&#x6570;&#x63CF;&#x8FF0;&#x4E86;&#x8282;&#x70B9;&#x521B;&#x5EFA;&#x8FD0;&#x884C;&#x7684;&#x8FC7;&#x7A0B;&#x3002;</p>
<ul>
<li><p><code>openDataDir()</code> &#x5728;FS&#x4E0A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x8282;&#x70B9;&#x76F8;&#x5173;&#x6570;&#x636E;  </p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> err := n.openDataDir(); err != <span class="literal">nil</span> {</span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x521B;&#x5EFA; P2P &#x5E76;&#x5BFC;&#x5165;&#x670D;&#x52A1;&#x7684;&#x76F8;&#x5173;&#x534F;&#x8BAE;&#xFF0C;&#x542F;&#x52A8; P2P</p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">running := &amp;p2p.Server{Config: n.serverConfig}</span><br><span class="line"></span><br><span class="line">services := <span class="built_in">make</span>(<span class="keyword">map</span>[reflect.Type]Service)</span><br><span class="line"><span class="keyword">for</span> _, constructor := <span class="keyword">range</span> n.serviceFuncs {</span><br><span class="line">    ...</span><br><span class="line">    services[kind] = service</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> _, service := <span class="keyword">range</span> services {</span><br><span class="line">    running.Protocols = <span class="built_in">append</span>(running.Protocols, service.Protocols()...)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> err := running.Start(); err != <span class="literal">nil</span> {</span><br><span class="line">    <span class="keyword">return</span> convertFileLockError(err)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x542F;&#x52A8;&#x670D;&#x52A1;</p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">started := []reflect.Type{}</span><br><span class="line"><span class="keyword">for</span> kind, service := <span class="keyword">range</span> services {</span><br><span class="line">    <span class="keyword">if</span> err := service.Start(running); err != <span class="literal">nil</span> {</span><br><span class="line">        ...</span><br><span class="line">    }</span><br><span class="line">    started = <span class="built_in">append</span>(started, kind)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x542F;&#x52A8; RPC &#x63A5;&#x53E3;</p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> err := n.startRPC(services); err != <span class="literal">nil</span> {</span><br><span class="line">    <span class="keyword">for</span> _, service := <span class="keyword">range</span> services {</span><br><span class="line">        service.Stop()</span><br><span class="line">    }</span><br><span class="line">    running.Stop()</span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul>
<li>API &#x63A5;&#x53E3;&#x5BFC;&#x5165;<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apis := n.apis()</span><br><span class="line"><span class="keyword">for</span> _, service := <span class="keyword">range</span> services {</span><br><span class="line">    apis = <span class="built_in">append</span>(apis, service.APIs()...)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<pre><code>* &#x542F;&#x52A8; InProc&#xFF0C;&#x7528;&#x4E8E;&#x8FDB;&#x7A0B;&#x5185;&#x90E8;&#x7684;&#x901A;&#x4FE1;
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> err := n.startInProc(apis); err != <span class="literal">nil</span> {</span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

* &#x542F;&#x52A8; IPC&#xFF0C;&#x7528;&#x4E8E;&#x540C;&#x7CFB;&#x7EDF;&#x5185;&#x8FDB;&#x7A0B;&#x95F4;&#x7684;&#x901A;&#x4FE1;
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> err := n.startIPC(apis); err != <span class="literal">nil</span> {</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

* &#x542F;&#x52A8; HTTP&#xFF0C;&#x7528;&#x4E8E; HTTP &#x7684;&#x4EA4;&#x4E92;&#x901A;&#x4FE1;
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> err := n.startHTTP(...); err != <span class="literal">nil</span> {</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

* &#x542F;&#x52A8; WebSocket&#xFF0C;&#x7528;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x7684; TCP &#x5168;&#x53CC;&#x5DE5;&#x901A;&#x4FE1;
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> err := n.startWS(...); err != <span class="literal">nil</span> {</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

* &#x4E3A;&#x8282;&#x70B9;&#x5173;&#x95ED;&#x521B;&#x5EFA; channel
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n.stop = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">struct</span>{})</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="3-API-&#x4EA4;&#x4E92;"><a href="#3-API-&#x4EA4;&#x4E92;" class="headerlink" title="3 API &#x4EA4;&#x4E92;"></a>3 API &#x4EA4;&#x4E92;</h2><p>&#x5BA2;&#x6237;&#x7AEF;&#x901A;&#x8FC7; API &#x4E0E; Ethereum &#x533A;&#x5757;&#x94FE;&#x7F51;&#x7EDC;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#xFF0C;&#x76EE;&#x524D;&#x63D0;&#x4F9B;&#x7684;&#x670D;&#x52A1;&#x6709;</p>
<blockquote>
<p>backend.go<br>    <code>func (s *Ethereum) APIs() []rpc.API {</code><br>backend.go<br>    <code>func (s *LightEthereum) APIs() []rpc.API {</code><br>exec.go<br>    <code>func (s *snapshotService) APIs() []rpc.API {</code><br>ping-pong.go<br>    <code>func (p *pingPongService) APIs() []rpc.API {</code><br>swarm.go<br>    <code>func (self *Swarm) APIs() []rpc.API {</code><br>whisper.go<br>    <code>func (w *Whisper) APIs() []rpc.API {</code><br>whisper.go<br>    <code>func (whisper *Whisper) APIs() []rpc.API {</code>  </p>
</blockquote>
<p>&#x901A;&#x5E38;&#xFF0C;&#x8FDB;&#x884C;&#x4EA4;&#x6613;&#x3001;&#x67E5;&#x8BE2;&#x7684;&#x76F8;&#x5173;&#x64CD;&#x4F5C;&#x7684;API&#x4E3B;&#x8981;&#x5173;&#x6CE8; <code>ethapi\api.go</code> &#x6E90;&#x7801;&#x63D0;&#x4F9B;&#x7684;&#x63A5;&#x53E3;&#x3002;</p>
<p>&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;THE END&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;</p>
<blockquote>
<p><strong>&#x672C;&#x6587;&#x6587;&#x5B57;&#x548C;&#x56FE;&#x7247;&#x5747;&#x5C5E;&#x535A;&#x4E3B;&#x539F;&#x521B;&#x3002;&#x672A;&#x7ECF;&#x6388;&#x6743;&#xFF0C;&#x4E0D;&#x5F97;&#x8F6C;&#x8F7D;&#x3002;</strong></p>
</blockquote>
<p>&#x4E2A;&#x4EBA;&#x7F51;&#x7AD9;&#xFF1A;<a href="https://jmy5945hh.github.io/" target="_blank" rel="noopener">https://jmy5945hh.github.io/</a></p>
  	
	  </div>     
	  

	
<div class="post-meta">
      
        <i class="iconfont icon-category"></i>       
        <a class="category-link" href="/categories/&#x533A;&#x5757;&#x94FE;/">&#x533A;&#x5757;&#x94FE;</a> 	
     
      	

      
        <i class="iconfont icon-tag"></i>     
          <a class="tag-link" href="/tags/&#x4EE5;&#x592A;&#x574A;/">&#x4EE5;&#x592A;&#x574A;</a>    
      	
</div>





<div class="post-footer">
  <div class="pf-left">
      <img class="pf-avatar" src="/images/header.jpg">
      <p class="pf-des">CMB Fintech Blockchain&#x7814;&#x53D1;</p>
  </div>

  <div class="pf-right">           
      <div class="pf-links">
        




<span class="donate-btn" data-hover="&#x8D5E;&#x8D4F;">
	<span class="iconfont icon-donate"></span>
</span>


<div id="donate-box" class="sildeUpMin">

	<span class="donate-cancel iconfont icon-cancel"></span>

	<div class="donate-img-box">
		<img id="donate-qr-wechat" class="donate-img" src="/images/donate1.png" alt="No Donate Image!">	
		<img id="donate-qr-alipay" class="donate-img" src="/images/donate2.png" alt="No Donate Image!">	
	</div>

	<span class="donate-word">Fintech &#x8BA9;&#x4E16;&#x754C;&#x66F4;&#x7F8E;&#x597D;</span>

	<div class="donate-list">
		<span class="iconfont icon-donate-wechat"></span>
		<span class="iconfont icon-donate-alipay"></span>
	</div>

</div>

 
        
	
<script id="-mob-share" src="http://f1.webshare.mob.com/code/mob-share.js?appkey=21d601593a1de"></script>
	
	<span class="share-btn" data-hover="&#x5206;&#x4EAB;">
	<span class="iconfont icon-share"></span>
	</span>


	<div class="-mob-share sildeUpMin">
		   
			<div data-hover="weixin">               
            <a class="iconfont  icon-share-weixin -mob-share-weixin"></a>
			</div>
     	   
			<div data-hover="weibo">               
            <a class="iconfont  icon-share-weibo -mob-share-weibo"></a>
			</div>
     	   
			<div data-hover="douban">               
            <a class="iconfont  icon-share-douban -mob-share-douban"></a>
			</div>
     	   
	</div>
	


      </div>  
    <nav class="pf-paginator">
      
         
          <a href="/2018/06/01/Ethereum&#x4EE5;&#x592A;&#x574A;&#x667A;&#x80FD;&#x5408;&#x7EA6;&#x90E8;&#x7F72;&#x6E90;&#x7801;&#x5206;&#x6790;/" data-hover="Ethereum &#x4EE5;&#x592A;&#x574A;&#x667A;&#x80FD;&#x5408;&#x7EA6;&#x90E8;&#x7F72;&#x6E90;&#x7801;&#x5206;&#x6790;">&#x4E0A;&#x4E00;&#x7BC7;</a>      
            
        
      
        
        <a href="/2018/04/05/&#x666F;&#x5DDE;&#x7267;&#x4E0A;&#x4EFB;&#x8868;/" data-hover="&#x666F;&#x5DDE;&#x7267;&#x4E0A;&#x4EFB;&#x8868;"> &#x4E0B;&#x4E00;&#x7BC7;</a>
            
  </nav>   
  </div>
</div> 
	
	

</article>



	<div id="toc">		

		<div class="toc-container">	

		<span class="toc-contents"> 
			&#x76EE;&#x5F55;
		</span>

		<ul class="toc-list"></ul>

		</div>

	</div>


        </section> 

    </div>        

    
    
    <div id="backTop" class="iconfont icon-backtotop"></div> 

  
    

        
        <div class="search-container sildeUpMin">


            <div class="search-header">
            <input type="text" placeholder="&#x8F93;&#x5165;&#x4F60;&#x60F3;&#x641C;&#x7D22;&#x7684;" id="search-input" class="search-input">  
            <span class="search-cancel iconfont icon-cancel"></span>
          
            </div>
              
            <div id="search-result" class="search-result"></div>

        </div>
 

     <div class="mobile-menu">      

      
      <img class="mobile-menu-icon lazyload" src="/images/placeholder.gif" data-src="/images/favicon.png">   
      

         
            

            <a class="mobile-menu-link" href="/">&#x9996;&#x9875;
            </a>
            
         
            

            <a class="mobile-menu-link" href="/archives">&#x5F52;&#x6863;
            </a>
            
         
            

            <a class="mobile-menu-link" href="/tags">&#x6807;&#x7B7E;
            </a>
            
         
            

            <a class="mobile-menu-link" href="/about">&#x5173;&#x4E8E;
            </a>
            
         
                          

            <a class="mobile-menu-link mobile-menu-search" href="#">&#x641C;&#x7D22; </a>                 
            
         
      
</div>        
    



     
    
    <script src="/main.bundle.js"></script>        
    <footer id="footer">
	   
   	 

	  	
   	
	   
      	 

	
	

	 <div>
	 	&#xA9;
		
		2018			
	
		
		&#x666F;&#x68A6;&#x56ED;	 

	 </div>
	
   
   	 <div>
	
	 <a href="http://hexo.io/" target="_blank">Hexo</a>

	 Theme

	 <a href="https://github.com/Lemonreds/hexo-theme-Nayo" target="_blank">Nayo</a> 

	 </div>	


	
	
</footer>   
  </body>        
</html>